(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-500556c0"],{"013f":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mdc-card"},[r("section",{staticClass:"material-icons mdc-theme--primary-bg",staticStyle:{"border-top-left-radius":"4px","border-top-right-radius":"4px"}},[t._v("lock\n\t")]),r("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[r("div",{staticClass:"mdc-text-field",attrs:{id:"url-field"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"mdc-text-field__input",attrs:{id:"url-field-input",type:"text",required:"",autocomplete:"username",disabled:t.connecting,autofocus:t.isMobile},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}}),r("label",{staticClass:"mdc-floating-label",class:{"mdc-floating-label--float-above":t.url},attrs:{for:"url-field-input"}},[t._v("Databox URL")]),r("div",{staticClass:"mdc-line-ripple"})]),t.urlError?r("div",{staticClass:"mdc-text-field-helper-text--persistent mdc-text-field-helper-text error",attrs:{"aria-hidden":"true"}},[t._v("\n\t\t\t"+t._s(t.urlError)+"\n\t\t")]):t._e(),r("div",{staticClass:"mdc-text-field",attrs:{id:"password-field"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"mdc-text-field__input",attrs:{id:"password-field-input",type:"password",required:"",autocomplete:"current-password",disabled:t.connecting,autofocus:!t.isMobile},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),r("label",{staticClass:"mdc-floating-label",attrs:{for:"password-field-input"}},[t._v("Password")]),r("div",{staticClass:"mdc-line-ripple"})]),t.passwordError?r("div",{staticClass:"mdc-text-field-helper-text--persistent mdc-text-field-helper-text error",attrs:{"aria-hidden":"true"}},[t._v("\n\t\t\t"+t._s(t.passwordError)+"\n\t\t")]):t._e(),t.connecting?r("div",{staticStyle:{display:"flex","justify-content":"center",padding:"16px"}},[r("Spinner")],1):r("div",{staticStyle:{display:"flex"}},[t.isMobile?r("button",{staticClass:"mdc-button",attrs:{type:"button"},on:{click:t.scan}},[t._v("Scan QR")]):t._e(),r("button",{staticClass:"mdc-button",attrs:{type:"submit",disabled:!t.valid}},[t._v("Login")])])]),r("section",{staticClass:"mdc-theme--primary-bg"})])},i=[],n=r("5d73"),a=r.n(n),o=(r("96cf"),r("3b8d")),l=(r("cadf"),r("551c"),r("097d"),r("ee81")),c=r("2375"),d={name:"logIn",props:{url:{default:function(){return this.$parent.databoxUrl},type:String},ipList:{default:[],type:Array},password:{default:null,type:String},autoLogin:{default:!1,type:Boolean}},components:{Spinner:c["a"]},data:function(){return{passwordError:"",urlError:"",connecting:!1}},computed:{valid:function(){return this.url&&this.password}},mounted:function(){this.$parent.title=null,this.$parent.backRoute=null,new l["MDCTextField"](document.querySelector("#url-field")),new l["MDCTextField"](document.querySelector("#password-field")),this.autoLogin&&this.loginList()},methods:{scan:function(){this.isMobile&&this.$router.push("/scan")},loginList:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,r,s,i,n,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.connecting=!0,e=!0,r=!1,s=void 0,t.prev=4,i=a()(this.ipList);case 6:if(e=(n=i.next()).done){t.next=21;break}return o=n.value,t.prev=8,this.url=o,t.next=12,this.$parent.login(o,this.password);case 12:return t.abrupt("return");case 15:t.prev=15,t.t0=t["catch"](8),console.log(t.t0);case 18:e=!0,t.next=6;break;case 21:t.next=27;break;case 23:t.prev=23,t.t1=t["catch"](4),r=!0,s=t.t1;case 27:t.prev=27,t.prev=28,e||null==i.return||i.return();case 30:if(t.prev=30,!r){t.next=33;break}throw s;case 33:return t.finish(30);case 34:return t.finish(27);case 35:this.connecting=!1,this.urlError="",this.passwordError="Login Failed.";case 38:case"end":return t.stop()}},t,this,[[4,23,27,35],[8,15],[28,,30,34]])}));function e(){return t.apply(this,arguments)}return e}(),login:function(){var t=this;return this.connecting=!0,this.$parent.login(this.url,this.password).catch(function(e){console.log(e),t.connecting=!1,t.passwordError="",t.urlError="",e instanceof TypeError?t.urlError="Could not find a Databox here":401===e.status?t.passwordError="Login Failed. Check password.":404===e.status&&(t.urlError="Could not find a Databox here")})}}},u=d,p=(r("d4e3"),r("2877")),f=Object(p["a"])(u,s,i,!1,null,"67233026",null);f.options.__file="Login.vue";e["default"]=f.exports},b15a:function(t,e,r){},d4e3:function(t,e,r){"use strict";var s=r("b15a"),i=r.n(s);i.a}}]);
//# sourceMappingURL=chunk-500556c0.15673e78.js.map